(function(){if(window.__twitterIntentHandler){return}var e=/twitter\.com(\:\d{2,4})?\/intent\/(\w+)/,g="scrollbars=yes,resizable=yes,toolbar=no,location=yes",f=550,b=420,d=screen.height,c=screen.width;function a(l){l=l||window.event;var k=l.target||l.srcElement,h,j,i;while(k&&k.nodeName.toLowerCase()!=="a"){k=k.parentNode}if(k&&k.nodeName.toLowerCase()==="a"&&k.href){h=k.href.match(e);if(h){j=Math.round((c/2)-(f/2));i=0;if(d>b){i=Math.round((d/2)-(b/2))}window.open(k.href,"intent",g+",width="+f+",height="+b+",left="+j+",top="+i);l.returnValue=false;l.preventDefault&&l.preventDefault()}}}if(document.addEventListener){document.addEventListener("click",a,false)}else{if(document.attachEvent){document.attachEvent("onclick",a)}}window.__twitterIntentHandler=true}());(function(){if(window.__JTA_I18N){return}JTA_I18N=function(){var b={};function a(c,g){this.getLocale=function(){return c};this.get=function(h,i){return f(h,1,i)};this._=this.get;this.nget=function(i,h,j,k){return j===1?f(i,1,k):f(h,j,k)};this.__=this.nget;function f(h,i,k){var j=d(h);if(i!==1&&typeof j==="object"){j=e(h,j,i)}if(j&&k){for(p in k){j=j.replace(p,d(k[p]))}}return j}function d(h){return g?(g[h]||h):h}function e(r,h,n){for(pat in h){var s=/(\d+)\s*-\s*(\d+)/,l=s.exec(pat);if(l){var o=l[1];var q=l[2];if(n>=o&&n<=q){return h[pat]}}s=/([<>]=?)\s*(\d+)/;l=s.exec(pat);if(l){var m=l[1];var k=l[2];if(m===">"&&n>k){return h[pat]}else{if(m===">="&&n>=k){return h[pat]}else{if(m==="<"&&n<k){return h[pat]}else{if(m==="<="&&n<=k){return h[pat]}}}}}s=/\s*,\s*/;l=pat.split(s);if(l){for(var j=0;j<l.length;j++){if(n===~~l[j]){return h[pat]}}}}return r}}return{addResourceBundle:function(e,c,d){if(!b[e]){b[e]={}}b[e][c]=d},getResourceBundle:function(d,c){return new a(c,b[d]?b[d][c]:null)}}}();window.__JTA_I18N=true}());JTA_I18N.addResourceBundle("jTweetsAnywhere","en",{"$$monthNames":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});(function(a){a.fn.jTweetsAnywhere=function(c){var b=a.extend({username:"tbillenstein",list:null,searchParams:null,count:0,tweetProfileImagePresent:null,tweetFilter:defaultTweetFilter,showTweetFeed:true,showFollowButton:false,showConnectButton:false,showLoginInfo:false,showTweetBox:false,locale:"en",tweetDataProvider:defaultTweetDataProvider,rateLimitDataProvider:defaultRateLimitDataProvider,mainDecorator:defaultMainDecorator,tweetFeedDecorator:defaultTweetFeedDecorator,tweetDecorator:defaultTweetDecorator,tweetProfileImageDecorator:defaultTweetProfileImageDecorator,tweetBodyDecorator:defaultTweetBodyDecorator,tweetUsernameDecorator:defaultTweetUsernameDecorator,tweetTextDecorator:defaultTweetTextDecorator,tweetAttributesDecorator:defaultTweetAttributesDecorator,tweetTwitterBirdDecorator:defaultTweetTwitterBirdDecorator,tweetTimestampDecorator:defaultTweetTimestampDecorator,tweetSourceDecorator:defaultTweetSourceDecorator,tweetGeoLocationDecorator:defaultTweetGeoLocationDecorator,tweetInReplyToDecorator:defaultTweetInReplyToDecorator,tweetRetweeterDecorator:defaultTweetRetweeterDecorator,tweetActionsDecorator:defaultTweetActionsDecorator,tweetActionReplyDecorator:defaultTweetActionReplyDecorator,tweetActionRetweetDecorator:defaultTweetActionRetweetDecorator,tweetActionFavoriteDecorator:defaultTweetActionFavoriteDecorator,tweetFeedControlsDecorator:defaultTweetFeedControlsDecorator,tweetFeedControlsMoreBtnDecorator:defaultTweetFeedControlsMoreBtnDecorator,tweetFeedControlsPrevBtnDecorator:defaultTweetFeedControlsPrevBtnDecorator,tweetFeedControlsNextBtnDecorator:defaultTweetFeedControlsNextBtnDecorator,tweetFeedAutorefreshTriggerDecorator:defaultTweetFeedAutorefreshTriggerDecorator,tweetFeedAutorefreshTriggerContentDecorator:defaultTweetFeedAutorefreshTriggerContentDecorator,connectButtonDecorator:defaultConnectButtonDecorator,loginInfoDecorator:defaultLoginInfoDecorator,loginInfoContentDecorator:defaultLoginInfoContentDecorator,followButtonDecorator:defaultFollowButtonDecorator,tweetBoxDecorator:defaultTweetBoxDecorator,linkDecorator:defaultLinkDecorator,usernameDecorator:defaultUsernameDecorator,hashtagDecorator:defaultHashtagDecorator,loadingDecorator:defaultLoadingDecorator,errorDecorator:defaultErrorDecorator,noDataDecorator:defaultNoDataDecorator,tweetTimestampFormatter:defaultTweetTimestampFormatter,tweetTimestampTooltipFormatter:defaultTweetTimestampTooltipFormatter,tweetVisualizer:defaultTweetVisualizer,loadingIndicatorVisualizer:defaultLoadingIndicatorVisualizer,autorefreshTriggerVisualizer:defaultAutorefreshTriggerVisualizer,onDataRequestHandler:defaultOnDataRequestHandler,onRateLimitDataHandler:defaultOnRateLimitDataHandler,onOptionsInitializingHandler:defaultOnOptionsInitializingHandler,_tweetFeedConfig:{autoConformToTwitterStyleguide:false,showTwitterBird:true,showTimestamp:{refreshInterval:0},showSource:false,showGeoLocation:true,showInReplyTo:true,showActionReply:false,showActionRetweet:false,showActionFavorite:false,showProfileImages:null,showUserScreenNames:null,showUserFullNames:false,expandHovercards:false,includeRetweets:true,paging:{mode:"none",_limit:0,_offset:0},autorefresh:{mode:"none",interval:60,duration:3600,max:-1,_startTime:null,_triggerElement:null},_pageParam:0,_maxId:null,_recLevel:0,_noData:false,_clearBeforePopulate:false},_tweetBoxConfig:{counter:true,width:515,height:65,label:null,defaultContent:"",onTweet:function(d,e){}},_connectButtonConfig:{size:"medium"},_baseSelector:null,_baseElement:null,_tweetFeedElement:null,_tweetFeedControlsElement:null,_followButtonElement:null,_loginInfoElement:null,_connectButtonElement:null,_tweetBoxElement:null,_loadingIndicatorElement:null,_noDataElement:null,_tweetsCache:[],_autorefreshTweetsCache:[],_stats:{dataRequestCount:0,rateLimitPreventionCount:0,rateLimit:{remaining_hits:150,hourly_limit:150}},_resourceBundle:null},c);b._baseSelector=this.selector;b.onOptionsInitializingHandler(b);setupOptions(b);if(!b.mainDecorator){return}a.ajaxSetup({cache:true});return this.each(function(){b._baseElement=a(this);b._tweetFeedElement=b.tweetFeedDecorator?a(b.tweetFeedDecorator(b)):null;b._tweetFeedControlsElement=b.tweetFeedControlsDecorator?a(b.tweetFeedControlsDecorator(b)):null;b._followButtonElement=b.followButtonDecorator?a(b.followButtonDecorator(b)):null;b._tweetBoxElement=b.tweetBoxDecorator?a(b.tweetBoxDecorator(b)):null;b._connectButtonElement=b.connectButtonDecorator?a(b.connectButtonDecorator(b)):null;b._loginInfoElement=b.loginInfoDecorator?a(b.loginInfoDecorator(b)):null;b.mainDecorator(b);populateTweetFeed(b);populateAnywhereControls(b);bindEventHandlers(b);setupAutorefresh(b)})};defaultMainDecorator=function(b){if(b._tweetFeedElement){b._baseElement.append(b._tweetFeedElement)}if(b._tweetFeedControlsElement){b._baseElement.append(b._tweetFeedControlsElement)}if(b._connectButtonElement){b._baseElement.append(b._connectButtonElement)}if(b._loginInfoElement){b._baseElement.append(b._loginInfoElement)}if(b._followButtonElement){b._baseElement.append(b._followButtonElement)}if(b._tweetBoxElement){b._baseElement.append(b._tweetBoxElement)}};defaultTweetFeedControlsDecorator=function(b){var c="";if(b._tweetFeedConfig.paging.mode=="prev-next"){if(b.tweetFeedControlsPrevBtnDecorator){c+=b.tweetFeedControlsPrevBtnDecorator(b)}if(b.tweetFeedControlsNextBtnDecorator){c+=b.tweetFeedControlsNextBtnDecorator(b)}}else{if(b._tweetFeedConfig.paging.mode=="endless-scroll"){}else{if(b.tweetFeedControlsMoreBtnDecorator){c+=b.tweetFeedControlsMoreBtnDecorator(b)}}}return'<div class="jta-tweet-list-controls">'+c+"</div>"};defaultTweetFeedControlsMoreBtnDecorator=function(b){return'<span class="jta-tweet-list-controls-button jta-tweet-list-controls-button-more">'+b._resourceBundle._("More")+"</span>"};defaultTweetFeedControlsPrevBtnDecorator=function(b){return'<span class="jta-tweet-list-controls-button jta-tweet-list-controls-button-prev">'+b._resourceBundle._("Prev")+"</span>"};defaultTweetFeedControlsNextBtnDecorator=function(b){return'<span class="jta-tweet-list-controls-button jta-tweet-list-controls-button-next">'+b._resourceBundle._("Next")+"</span>"};defaultTweetFeedAutorefreshTriggerDecorator=function(d,b){var c="";if(b.tweetFeedAutorefreshTriggerContentDecorator){c=b.tweetFeedAutorefreshTriggerContentDecorator(d,b)}return'<li class="jta-tweet-list-autorefresh-trigger">'+c+"</li>"};defaultTweetFeedAutorefreshTriggerContentDecorator=function(d,b){var c=b._resourceBundle.__("%count% new tweet","%count% new tweets",d,{"%count%":d});return'<span class="jta-tweet-list-autorefresh-trigger-content">'+c+"</span>"};defaultTweetFeedDecorator=function(b){return'<ul class="jta-tweet-list"></ul>'};defaultTweetDecorator=function(d,b){var c="";if(b._tweetFeedConfig.showProfileImages){c+=b.tweetProfileImageDecorator(d,b)}if(b.tweetBodyDecorator){c+=b.tweetBodyDecorator(d,b)}c+='<div class="jta-clear">&nbsp;</div>';return'<li class="jta-tweet-list-item">'+c+"</li>"};defaultTweetProfileImageDecorator=function(g,c){var f=g.retweeted_status||g;var e=getScreenName(g);var b=f.user?f.user.profile_image_url:false||f.profile_image_url;var d='<a class="jta-tweet-profile-image-link" href="http://twitter.com/'+e+'" target="_blank"><img src="'+b+'" alt="'+e+'"'+(isAnywherePresent()?"":(' title="'+e+'"'))+"/></a>";return'<div class="jta-tweet-profile-image">'+d+"</div>"};defaultTweetBodyDecorator=function(d,b){var c="";if(b.tweetTextDecorator){c+=b.tweetTextDecorator(d,b)}if(b.tweetAttributesDecorator){c+=b.tweetAttributesDecorator(d,b)}if(b.tweetActionsDecorator){c+=b.tweetActionsDecorator(d,b)}return'<div class="jta-tweet-body '+(b._tweetFeedConfig.showProfileImages?"jta-tweet-body-list-profile-image-present":"")+'">'+c+"</div>"};defaultTweetTextDecorator=function(d,b){var c=d.text;if(d.retweeted_status&&(b._tweetFeedConfig.showUserScreenNames||b._tweetFeedConfig.showUserScreenNames==null||b._tweetFeedConfig.showUserFullNames||b._tweetFeedConfig.showUserFullNames==null)){c=d.retweeted_status.text}if(b.linkDecorator){c=b.linkDecorator(c,b)}if(b.usernameDecorator){c=b.usernameDecorator(c,b)}if(b.hashtagDecorator){c=b.hashtagDecorator(c,b)}if(b._tweetFeedConfig.showUserScreenNames||b._tweetFeedConfig.showUserFullNames||d.retweeted_status&&(b._tweetFeedConfig.showUserScreenNames==null||b._tweetFeedConfig.showUserFullNames==null)){c=b.tweetUsernameDecorator(d,b)+" "+c}return'<span class="jta-tweet-text">'+c+"</span>"};defaultTweetUsernameDecorator=function(h,d){var f=getScreenName(h);var g=getFullName(h);var b=null;if(f&&(d._tweetFeedConfig.showUserScreenNames||(d._tweetFeedConfig.showUserScreenNames==null&&h.retweeted_status))){b='<span class="jta-tweet-user-screen-name"><a class="jta-tweet-user-screen-name-link" href="http://twitter.com/'+f+'" target="_blank">'+f+"</a></span>"}var c=null;if(g&&(d._tweetFeedConfig.showUserFullNames||(d._tweetFeedConfig.showUserFullNames==null&&h.retweeted_status))){c='<span class="jta-tweet-user-full-name">'+(b?" ":"")+'<a class="jta-tweet-user-full-name-link" href="http://twitter.com/'+f+'" name="'+f+'" target="_blank">'+g+"</a></span>"}var e="";if(b){e+=b}if(c){if(b){e+=" "}e+=c}if(b||c){e='<span class="jta-tweet-user-name">'+(h.retweeted_status?"RT ":"")+e+"</span>"}return e};defaultTweetAttributesDecorator=function(d,b){var c="";if(b.tweetTwitterBirdDecorator||b.tweetTimestampDecorator||b.tweetSourceDecorator||b.tweetGeoLocationDecorator||b.tweetInReplyToDecorator||(d.retweeted_status&&b.tweetRetweeterDecorator)){c+='<span class="jta-tweet-attributes">';if(b.tweetTwitterBirdDecorator){c+=b.tweetTwitterBirdDecorator(d,b)}if(b.tweetTimestampDecorator){c+=b.tweetTimestampDecorator(d,b)}if(b.tweetSourceDecorator){c+=b.tweetSourceDecorator(d,b)}if(b.tweetGeoLocationDecorator){c+=b.tweetGeoLocationDecorator(d,b)}if(b.tweetInReplyToDecorator){c+=b.tweetInReplyToDecorator(d,b)}if(d.retweeted_status&&b.tweetRetweeterDecorator){c+=b.tweetRetweeterDecorator(d,b)}c+="</span>"}return c};defaultTweetTimestampDecorator=function(h,c){var b=h.retweeted_status||h;var g=formatDate(b.created_at);var e=c.tweetTimestampFormatter(g,c);var f=c.tweetTimestampTooltipFormatter(g);var d='<span class="jta-tweet-timestamp"><a class="jta-tweet-timestamp-link" data-timestamp="'+g+'" href="http://twitter.com/'+getScreenName(h)+"/status/"+b.id+'" target="_blank" title="'+f+'">'+e+"</a></span>";return d};defaultTweetTwitterBirdDecorator=function(g,b){var d=getScreenName(g);var f="https://twitter.com/intent/user?screen_name="+d;var e=d+" "+b._resourceBundle._("on Twitter");var c='<span class="jta-tweet-twitter-bird"><a href="'+f+'" target="_blank" title="'+e+'"><span class="jta-tweet-twitter-bird-icon">&nbsp;</span></a></span>';return c};defaultTweetTimestampTooltipFormatter=function(b){var c=new Date(b);return c.toLocaleString()};defaultTweetTimestampFormatter=function(c,f){var e=new Date();var i=parseInt((e.getTime()-Date.parse(c))/1000);var h="";if(i<60){h+=f._resourceBundle.__("%secs% second ago","%secs% seconds ago",i,{"%secs%":i})}else{if(i<3600){var g=parseInt((i+30)/60);h+=f._resourceBundle.__("%mins% minute ago","%mins% minutes ago",g,{"%mins%":g})}else{if(i<86400){var g=parseInt((i+1800)/3600);h+=f._resourceBundle.__("%hours% hour ago","%hours% hours ago",g,{"%hours%":g})}else{var j=new Date(c);var b=f._resourceBundle._("$$monthNames");h+=b[j.getMonth()]+" "+j.getDate();if(j.getFullYear()<e.getFullYear()){h+=", "+j.getFullYear()}var g=parseInt((i+43200)/86400);h+=" ("+f._resourceBundle.__("%days% day ago","%days% days ago",g,{"%days%":g})+")"}}}return h};defaultTweetSourceDecorator=function(f,c){var b=f.retweeted_status||f;var e=b.source.replace(/\&lt\;/gi,"<").replace(/\&gt\;/gi,">").replace(/\&quot\;/gi,'"');var d='<span class="jta-tweet-source"> '+c._resourceBundle._("via")+' <span class="jta-tweet-source-link">'+e+"</span></span>";return d};defaultTweetGeoLocationDecorator=function(h,d){var e="";var c=h.retweeted_status||h;var g=null;if(c.geo&&c.geo.coordinates){g=c.geo.coordinates.join()}else{if(c.place&&c.place.full_name){g=c.place.full_name}}if(g){var b=d._resourceBundle._("here");if(c.place&&c.place.full_name){b=c.place.full_name}var f="http://maps.google.com/maps?q="+g;e='<span class="jta-tweet-location"> '+d._resourceBundle._("from")+' <a class="jta-tweet-location-link" href="'+f+'" target="_blank">'+b+"</a></span>"}return e};defaultTweetInReplyToDecorator=function(g,c){var b=g.retweeted_status||g;var e="";if(b.in_reply_to_status_id&&b.in_reply_to_screen_name){var f="http://twitter.com/"+b.in_reply_to_screen_name+"/status/"+b.in_reply_to_status_id;var d=c._resourceBundle._("in reply to")+" "+b.in_reply_to_screen_name;e='<span class="jta-tweet-inreplyto"> <a class="jta-tweet-inreplyto-link" href="'+f+'" target="_blank">'+d+"</a></span>"}return e};defaultTweetRetweeterDecorator=function(h,b){var d="";if(h.retweeted_status){var c=getUserScreenName(h);var g=(h.retweeted_status.retweet_count||0)-1;var f='<a class="jta-tweet-retweeter-link" href="http://twitter.com/'+c+'" target="_blank">'+c+"</a>";var e=b._resourceBundle.__(" and %rtc% other"," and %rtc% others",g,{"%rtc%":g});d='<br/><span class="jta-tweet-retweeter">'+b._resourceBundle._("Retweeted by")+" "+f+(g>0?e:"")+"</span>"}return d};defaultTweetActionsDecorator=function(d,b){var c="";if(b.tweetActionReplyDecorator||b.tweetActionRetweetDecorator||b.tweetActionFavoriteDecorator){c+='<span class="jta-tweet-actions">';if(b.tweetActionReplyDecorator){c+=b.tweetActionReplyDecorator(d,b)}if(b.tweetActionRetweetDecorator){c+=b.tweetActionRetweetDecorator(d,b)}if(b.tweetActionFavoriteDecorator){c+=b.tweetActionFavoriteDecorator(d,b)}c+="</span>"}return c};defaultTweetActionReplyDecorator=function(f,b){var e="https://twitter.com/intent/tweet?in_reply_to="+f.id;var d=b._resourceBundle._("Reply");var c='<span class="jta-tweet-action-reply"><a href="'+e+'">'+d+"</a></span>";return c};defaultTweetActionRetweetDecorator=function(f,b){var e="https://twitter.com/intent/retweet?tweet_id="+f.id;var d=b._resourceBundle._("Retweet");var c='<span class="jta-tweet-action-retweet"><a href="'+e+'">'+d+"</a></span>";return c};defaultTweetActionFavoriteDecorator=function(f,b){var e="https://twitter.com/intent/favorite?tweet_id="+f.id;var d=b._resourceBundle._("Favorite");var c='<span class="jta-tweet-action-favorite"><a href="'+e+'">'+d+"</a></span>";return c};defaultConnectButtonDecorator=function(b){return'<div class="jta-connect-button"></div>'};defaultLoginInfoDecorator=function(b){return'<div class="jta-login-info"></div>'};defaultLoginInfoContentDecorator=function(d,c){var f="";if(c.isConnected()){var e=c.currentUser.data("screen_name");var b=c.currentUser.data("profile_image_url");f='<div class="jta-login-info-profile-image"><a href="http://twitter.com/'+e+'" target="_blank"><img src="'+b+'" alt="'+e+'" title="'+e+'"/></a></div><div class="jta-login-info-block"><div class="jta-login-info-screen-name"><a href="http://twitter.com/'+e+'" target="_blank">'+e+'</a></div><div class="jta-login-info-sign-out">'+d._resourceBundle._("Sign out")+'</div></div><div class="jta-clear">&nbsp;</div>'}return f};defaultFollowButtonDecorator=function(b){return'<div class="jta-follow-button"></div>'};defaultTweetBoxDecorator=function(b){return'<div class="jta-tweet-box"></div>'};defaultLinkDecorator=function(c,b){return c.replace(/((ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?)/gi,'<a href="$1" class="jta-tweet-a jta-tweet-link" target="_blank" rel="nofollow">$1</a>')};defaultUsernameDecorator=function(c,b){return isAnywherePresent()?c:c.replace(/\B@(\w+)/gi,'@<a href="http://twitter.com/$1" class="jta-tweet-a twitter-anywhere-user" target="_blank" rel="nofollow">$1</a>')};defaultHashtagDecorator=function(c,b){return c.replace(/#([a-zA-Z0-9_]+)/gi,'<a href="http://search.twitter.com/search?q=%23$1" class="jta-tweet-a jta-tweet-hashtag" title="#$1" target="_blank" rel="nofollow">#$1</a>')};defaultLoadingDecorator=function(b){return'<li class="jta-loading">'+b._resourceBundle._("loading")+" ...</li>"};defaultErrorDecorator=function(b,c){return'<li class="jta-error">'+c._resourceBundle._("ERROR")+": "+b+"</li>"};defaultNoDataDecorator=function(b){return'<li class="jta-nodata">'+b._resourceBundle._("No more data")+"</li>"};defaultTweetFilter=function(c,b){return true};defaultTweetVisualizer=function(d,e,b,c){d[b](e)};defaultLoadingIndicatorVisualizer=function(d,b,c,e){defaultVisualizer(d,b,"append","fadeIn",600,"fadeOut",200,e)};defaultAutorefreshTriggerVisualizer=function(c,d,b,e){defaultVisualizer(c,d,"prepend","slideDown",600,"fadeOut",200,e)};defaultVisualizer=function(b,f,g,i,c,e,j,h){var d=function(){if(h){h()}};if(b){f.hide();b[g](f);f[i](c,d)}else{f[e](j,function(){f.remove();d()})}};defaultOnDataRequestHandler=function(c,b){return true};defaultOnRateLimitDataHandler=function(c,b){};defaultOnOptionsInitializingHandler=function(b){};updateLoginInfoElement=function(c,b){if(c._loginInfoElement&&c.loginInfoContentDecorator){c._loginInfoElement.children().remove();c._loginInfoElement.append(c.loginInfoContentDecorator(c,b));a(c._baseSelector+" .jta-login-info-sign-out").bind("click",function(){twttr.anywhere.signOut()})}};getFeedUrl=function(d,c){var b=("https:"==document.location.protocol?"https:":"http:");if(d.searchParams){b+="//search.twitter.com/search.json?"+((d.searchParams instanceof Array)?d.searchParams.join("&"):d.searchParams)+"&rpp=100"}else{if(d.list){if("favorites"==d.list){b+="//api.twitter.com/1/favorites/"+d.username+".json?count=100"}else{b+="//api.twitter.com/1/"+d.username+"/lists/"+d.list+"/statuses.json?per_page=100"}}else{b+="//api.twitter.com/1/statuses/user_timeline.json?screen_name="+d.username+"&count=100";if(d._tweetFeedConfig.includeRetweets){b+="&include_rts=true"}}}if(c){b+=(d._tweetFeedConfig._maxId?"&max_id="+d._tweetFeedConfig._maxId:"")+"&page="+d._tweetFeedConfig._pageParam}b+="&callback=?";b="/twitter.php?url="+encodeURIComponent(b)+"&callback=?";return b};isAnywherePresent=function(){return(typeof(twttr)!="undefined"&&typeof(twttr.anywhere)!="undefined")};clearTweetFeed=function(b){if(b._tweetFeedElement){b._tweetFeedElement.empty()}};setupOptions=function(b){b._resourceBundle=JTA_I18N.getResourceBundle("jTweetsAnywhere",b.locale);b._tweetBoxConfig.label=b._resourceBundle._("What's happening?");if(typeof(b.username)!="string"){if(!b.searchParams){b.searchParams=["q=from:"+b.username.join(" OR from:")]}b.username=b.username[0]}if(typeof(b.showTweetFeed)=="object"){a.extend(true,b._tweetFeedConfig,b.showTweetFeed)}if(typeof(b.showTweetBox)=="object"){a.extend(true,b._tweetBoxConfig,b.showTweetBox);b.showTweetBox=true}if(typeof(b.showConnectButton)=="object"){b._connectButtonConfig=b.showConnectButton;b.showConnectButton=true}if(b._tweetFeedConfig.showProfileImages==null){b._tweetFeedConfig.showProfileImages=b.tweetProfileImagePresent}if(b._tweetFeedConfig.showProfileImages==null){b._tweetFeedConfig.showProfileImages=(b.list||b.searchParams)&&b.tweetProfileImageDecorator}if(b._tweetFeedConfig.autoConformToTwitterStyleguide){b._tweetFeedConfig.showUserFullNames=null;b._tweetFeedConfig.showTwitterBird=true;b._tweetFeedConfig.showActionReply=true;b._tweetFeedConfig.showActionRetweet=true;b._tweetFeedConfig.showActionFavorite=true}if(b._tweetFeedConfig.showUserScreenNames==null){if(b.list||b.searchParams){b._tweetFeedConfig.showUserScreenNames=true}if(!b.tweetUsernameDecorator){b._tweetFeedConfig.showUserScreenNames=false}}if(b._tweetFeedConfig.showUserFullNames==null){if(b.list||b.searchParams){b._tweetFeedConfig.showUserFullNames=true}if(!b.tweetUsernameDecorator){b._tweetFeedConfig.showUserFullNames=false}}b.count=validateRange(b.count,0,b.searchParams?100:100);b._tweetFeedConfig.autorefresh.interval=Math.max(30,b._tweetFeedConfig.autorefresh.interval);if(b._tweetFeedConfig.autorefresh.max<=0){b._tweetFeedConfig.autorefresh.max=-1}b._tweetFeedConfig.paging._offset=0;b._tweetFeedConfig.paging._limit=b.count;if(b.count==0||!b.showTweetFeed){b.tweetFeedDecorator=null;b.tweetFeedControlsDecorator=null}if(b._tweetFeedConfig.paging.mode=="none"){b.tweetFeedControlsDecorator=null}if(!b.showFollowButton){b.followButtonDecorator=null}if(!b.showTweetBox){b.tweetBoxDecorator=null}if(!b.showConnectButton){b.connectButtonDecorator=null}if(!b.showLoginInfo){b.loginInfoDecorator=null}if(!b._tweetFeedConfig.showTwitterBird){b.tweetTwitterBirdDecorator=null}if(!b._tweetFeedConfig.showTimestamp){b.tweetTimestampDecorator=null}if(!b._tweetFeedConfig.showSource){b.tweetSourceDecorator=null}if(!b._tweetFeedConfig.showGeoLocation){b.tweetGeoLocationDecorator=null}if(!b._tweetFeedConfig.showInReplyTo){b.tweetInReplyToDecorator=null}if(!b._tweetFeedConfig.showActionReply){b.tweetActionReplyDecorator=null}if(!b._tweetFeedConfig.showActionRetweet){b.tweetActionRetweetDecorator=null}if(!b._tweetFeedConfig.showActionFavorite){b.tweetActionFavoriteDecorator=null}};setupAutorefresh=function(b){b._tweetFeedConfig.autorefresh._startTime=new Date().getTime();startAutorefresh(b);startTimestampRefresh(b)};populateTweetFeed=function(b){if(b.tweetDecorator&&b._tweetFeedElement){getPagedTweets(b,function(d,c){if(c._tweetFeedConfig._clearBeforePopulate){clearTweetFeed(c)}hideLoadingIndicator(c,function(){a.each(d,function(e,f){c.tweetVisualizer(c._tweetFeedElement,a(c.tweetDecorator(f,c)),"append",c)});if(c._tweetFeedConfig._noData&&c.noDataDecorator&&!c._tweetFeedConfig._noDataElement){c._tweetFeedConfig._noDataElement=a(c.noDataDecorator(c));c._tweetFeedElement.append(c._tweetFeedConfig._noDataElement)}if(c._tweetFeedConfig._clearBeforePopulate){c._tweetFeedElement.scrollTop(0)}addHovercards(c)})})}};populateTweetFeed2=function(b){if(b._tweetFeedElement&&b._autorefreshTweetsCache.length>0){if(b._tweetFeedConfig.autorefresh.mode=="trigger-insert"){if(b._tweetFeedConfig.autorefresh._triggerElement){if(b.tweetFeedAutorefreshTriggerContentDecorator){b._tweetFeedConfig.autorefresh._triggerElement.html(b.tweetFeedAutorefreshTriggerContentDecorator(b._autorefreshTweetsCache.length,b))}}else{if(b.tweetFeedAutorefreshTriggerDecorator){b._tweetFeedConfig.autorefresh._triggerElement=a(b.tweetFeedAutorefreshTriggerDecorator(b._autorefreshTweetsCache.length,b));b._tweetFeedConfig.autorefresh._triggerElement.bind("click",function(){b.autorefreshTriggerVisualizer(null,b._tweetFeedConfig.autorefresh._triggerElement,b,function(){insertTriggerTweets(b)});b._tweetFeedConfig.autorefresh._triggerElement=null});b.autorefreshTriggerVisualizer(b._tweetFeedElement,b._tweetFeedConfig.autorefresh._triggerElement,b)}}}else{insertTriggerTweets(b)}}};insertTriggerTweets=function(b){if(b.tweetDecorator&&b._autorefreshTweetsCache.length>0){while(b._autorefreshTweetsCache.length>0){var c=b._autorefreshTweetsCache.pop();b._tweetsCache.unshift(c);b._tweetFeedConfig.paging._offset++;b.tweetVisualizer(b._tweetFeedElement,a(b.tweetDecorator(c,b)),"prepend",b)}addHovercards(b)}};addHovercards=function(b){if(isAnywherePresent()){twttr.anywhere(function(c){c(b._baseSelector+" .jta-tweet-list").hovercards({expanded:b._tweetFeedConfig.expandHovercards});c(b._baseSelector+" .jta-tweet-profile-image img").hovercards({expanded:b._tweetFeedConfig.expandHovercards,username:function(d){return d.alt}});c(b._baseSelector+" .jta-tweet-retweeter-link").hovercards({expanded:b._tweetFeedConfig.expandHovercards,username:function(d){return d.text}});c(b._baseSelector+" .jta-tweet-user-screen-name-link").hovercards({expanded:b._tweetFeedConfig.expandHovercards,username:function(d){return d.text}});c(b._baseSelector+" .jta-tweet-user-full-name-link").hovercards({expanded:b._tweetFeedConfig.expandHovercards,username:function(d){return d.name}})})}};populateAnywhereControls=function(b){if(isAnywherePresent()){twttr.anywhere(function(c){if(b.tweetBoxDecorator){c(b._baseSelector+" .jta-tweet-box").tweetBox(b._tweetBoxConfig)}if(b.followButtonDecorator){c(b._baseSelector+" .jta-follow-button").followButton(b.username)}if(b.connectButtonDecorator){var d=a.extend({authComplete:function(e){updateLoginInfoElement(b,c)},signOut:function(){updateLoginInfoElement(b,c)}},b._connectButtonConfig);c(b._baseSelector+" .jta-connect-button").connectButton(d);updateLoginInfoElement(b,c)}})}};bindEventHandlers=function(b){if(b.tweetFeedControlsDecorator){if(b._tweetFeedConfig.paging.mode=="prev-next"){a(b._baseSelector+" .jta-tweet-list-controls-button-prev").bind("click",function(){if(!isLoading(b)&&b._tweetFeedConfig.paging._offset>0){prevPage(b,true)}});a(b._baseSelector+" .jta-tweet-list-controls-button-next").bind("click",function(){if(!isLoading(b)){nextPage(b,true)}})}else{if(b._tweetFeedConfig.paging.mode=="endless-scroll"){b._tweetFeedElement.bind("scroll",function(){if(!isLoading(b)&&(a(this)[0].scrollHeight-a(this).scrollTop()==a(this).outerHeight())){nextPage(b,false)}})}else{a(b._baseSelector+" .jta-tweet-list-controls-button-more").bind("click",function(){if(!isLoading(b)){nextPage(b,false)}})}}}};nextPage=function(c,b){doPage(c,b,Math.min(c._tweetFeedConfig.paging._offset+c._tweetFeedConfig.paging._limit,c._tweetsCache.length))};prevPage=function(c,b){doPage(c,b,Math.max(0,c._tweetFeedConfig.paging._offset-c._tweetFeedConfig.paging._limit))};doPage=function(c,b,d){c._tweetFeedConfig.paging._offset=d;c._tweetFeedConfig._clearBeforePopulate=b;populateTweetFeed(c)};startAutorefresh=function(b){if(b._tweetFeedConfig.autorefresh.mode!="none"&&b._tweetFeedConfig.paging.mode!="prev-next"&&b._tweetFeedConfig.autorefresh.duration!=0&&(b._tweetFeedConfig.autorefresh.duration<0||(new Date().getTime()-b._tweetFeedConfig.autorefresh._startTime)<=b._tweetFeedConfig.autorefresh.duration*1000)){window.setTimeout(function(){processAutorefresh(b)},b._tweetFeedConfig.autorefresh.interval*1000)}};stopAutorefresh=function(b){b._tweetFeedConfig.autorefresh.duration=0};processAutorefresh=function(b){if(b._tweetFeedConfig.autorefresh.duration!=0){getRateLimitedData(b,true,getFeedUrl(b,false),function(d,c){var e=(d.results||d).slice(0);e.reverse();a.each(e,function(f,g){if(g.id_str){g.id=g.id_str}if(g.in_reply_to_status_id_str){g.in_reply_to_status_id=g.in_reply_to_status_id_str}if(!isTweetInAutorefreshCache(g,c)&&!isTweetInCache(g,c)){if(c.tweetFilter(g,c)){c._autorefreshTweetsCache.unshift(g);if(c._tweetFeedConfig.autorefresh.max>0){while(c._autorefreshTweetsCache.length>c._tweetFeedConfig.autorefresh.max){c._autorefreshTweetsCache.pop()}}}}});populateTweetFeed2(c)});startAutorefresh(b)}};startTimestampRefresh=function(b){if(b.tweetTimestampDecorator&&typeof(b._tweetFeedConfig.showTimestamp)=="object"&&b._tweetFeedConfig.showTimestamp.refreshInterval>0){window.setTimeout(function(){processTimestampRefresh(b)},b._tweetFeedConfig.showTimestamp.refreshInterval*1000)}};processTimestampRefresh=function(b){a.each(b._tweetFeedElement.find(".jta-tweet-timestamp-link"),function(c,e){var d=a(e).attr("data-timestamp");a(e).html(b.tweetTimestampFormatter(d,b))});startTimestampRefresh(b)};isTweetInCache=function(e,c){var b=c._tweetsCache.length;for(var d=0;d<b;d++){if(e.id==c._tweetsCache[d].id){return true}}return false};isTweetInAutorefreshCache=function(e,c){var b=c._autorefreshTweetsCache.length;for(var d=0;d<b;d++){if(e.id==c._autorefreshTweetsCache[d].id){return true}}return false};showLoadingIndicator=function(b){if(b._tweetFeedElement&&b.loadingDecorator&&!b._loadingIndicatorElement){b._loadingIndicatorElement=a(b.loadingDecorator(b));b.loadingIndicatorVisualizer(b._tweetFeedElement,b._loadingIndicatorElement,b,null);b._tweetFeedElement.scrollTop(1000000)}};hideLoadingIndicator=function(b,c){if(b._loadingIndicatorElement){b.loadingIndicatorVisualizer(null,b._loadingIndicatorElement,b,c);b._loadingIndicatorElement=null}else{if(c){c()}}};isLoading=function(b){return b._loadingIndicatorElement!=null};formatDate=function(b){return b.replace(/^([a-z]{3})( [a-z]{3} \d\d?)(.*)( \d{4})$/i,"$1,$2$4$3")};getUserScreenName=function(c){var b=c.user?c.user.screen_name:false||c.from_user;return b};getScreenName=function(d){var c=d.retweeted_status||d;var b=c.user?c.user.screen_name:false||c.from_user;return b};getFullName=function(d){var b=d.retweeted_status||d;var c=b.user?b.user.name:undefined;return c};validateRange=function(c,d,b){if(c<d){c=d}if(c>b){c=b}return c};showError=function(c,b){if(c.errorDecorator&&c._tweetFeedElement){c._tweetFeedElement.append(c.errorDecorator(b,c))}};getPagedTweets=function(b,c){b._tweetFeedConfig._recLevel=0;getRecPagedTweets(b,b._tweetFeedConfig.paging._offset,b._tweetFeedConfig.paging._limit,c)};getRecPagedTweets=function(c,f,b,g){++c._tweetFeedConfig._recLevel;if(f+b<=c._tweetsCache.length||c._tweetFeedConfig._recLevel>3||c._tweetFeedConfig._noData){if(f+b>c._tweetsCache.length){b=Math.max(0,c._tweetsCache.length-f)}var e=[];for(var d=0;d<b;d++){e[d]=c._tweetsCache[f+d]}g(e,c)}else{++c._tweetFeedConfig._pageParam;getRateLimitedData(c,false,getFeedUrl(c,true),function(i,h){var j=i.results||i;if(j.length==0){h._tweetFeedConfig._noData=true}else{a.each(j,function(k,l){if(l.id_str){l.id=l.id_str}if(l.in_reply_to_status_id_str){l.in_reply_to_status_id=l.in_reply_to_status_id_str}if(!h._tweetFeedConfig._maxId){h._tweetFeedConfig._maxId=l.id}if(h.tweetFilter(l,h)){h._tweetsCache.push(l)}})}getRecPagedTweets(h,f,b,g)})}};getRateLimitedData=function(c,d,b,e){getRateLimit(c,function(f){getData(c,d,b,e)})};getData=function(c,d,b,e){c._stats.dataRequestCount++;if(!c.onDataRequestHandler(c._stats,c)){hideLoadingIndicator(c,null);return}if(!d){showLoadingIndicator(c)}c.tweetDataProvider(b,function(f){if(f.error){showError(c,f.error)}else{e(f,c)}})};getRateLimit=function(b,c){b.rateLimitDataProvider(function(d){b._stats.rateLimit=d;b.onRateLimitDataHandler(b._stats,b);c(d)})};defaultTweetDataProvider=function(b,c){a.getJSON(b,c)};defaultRateLimitDataProvider=function(b){a.getJSON("http://api.twitter.com/1/account/rate_limit_status.json?callback=?",b)}})(jQuery);